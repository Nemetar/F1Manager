<script setup lang="ts">
import { useTrackPath } from '@/composables/trackPath.composable';

const emit = defineEmits<{
  (event: 'ready', payload: { path: SVGPathElement; length: number }): void;
}>();

const { trackPath } = useTrackPath(emit);
</script>

<template>
  <svg
    viewBox="0 0 682.66669 682.66669"
    xmlns="http://www.w3.org/2000/svg"
    class="h-auto max-h-full w-full"
  >
    <path
      ref="trackPath"
      d="m 415.99093,506.62583 c 0,0 -158.68752,53.52008 -165.45837,49.3794 -5.37559,-3.28741 -27.72177,-27.88266 -27.72177,-27.88266 0,0 -48.59887,-66.70909 -69.42866,-102.25476 -16.96806,-28.9557 -45.02695,-90.0539 -45.02695,-90.0539 0,0 -41.11917,-42.00728 -65.819576,-67.36709 -15.21874,-15.62502 -10.059667,-11.53481 -4.11462,-12.8606 20.092115,-4.48069 19.376911,-3.47991 29.731965,-4.206 19.706323,-1.38179 39.314021,-1.5532 58.996111,0.13905 37.14572,3.19376 73.45654,13.05728 110.47705,17.48045 14.27665,1.70576 42.99347,3.48596 42.99347,3.48596 0,0 41.96356,0.27692 59.26128,1.74298 3.41403,0.28935 6.42844,3.73542 7.55291,6.97192 1.22258,3.51887 -1.74298,11.03886 -1.74298,11.03886 0,0 -7.69263,16.02097 -13.94383,22.07773 -8.22969,7.97372 -18.78755,13.72365 -29.63064,17.42979 -8.68291,2.96779 -18.13064,3.52059 -27.30667,3.48596 -25.99199,-0.0981 -51.40809,-13.03625 -77.27206,-10.45787 -5.30212,0.52857 -10.92841,1.92117 -15.10581,5.22893 -5.39157,4.26917 -8.88902,10.89733 -11.03887,17.42979 -1.69947,5.16395 -2.44879,10.98587 -1.16198,16.2678 6.2345,25.59056 19.7716,52.1504 41.25049,67.39518 5.97839,4.2432 14.20201,5.37791 21.49674,4.64794 6.73079,-0.67354 13.21921,-4.02382 18.59178,-8.1339 10.06526,-7.70004 13.30277,-22.56148 23.82071,-29.63064 9.56063,-6.42574 130.61659,-16.37688 130.61659,-16.37688 0,0 20.98377,-3.39237 91.31123,-0.65941 4.8069,0.1868 8.8684,6.084 10.67091,10.54405 10.01374,24.77751 20.03317,52.03299 20.8403,67.74872 0.49817,9.69989 -22.47869,18.54004 -22.47869,18.54004 l -90.36662,28.80536"
      fill="none"
      stroke="white"
      stroke-width="10"
    />

    <slot name="playerPosition"></slot>
  </svg>
</template>
